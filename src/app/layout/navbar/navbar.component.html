<header
  class="fixed top-0 z-50 h-16 w-full bg-white/80 backdrop-blur-md border-b border-zinc-200/50 dark:bg-zinc-950/80 dark:border-zinc-800/50"
>
  <div
    class="absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-zinc-400/40 to-transparent dark:via-zinc-600/40"
  ></div>
  <nav
    class="container relative mx-auto flex h-full w-full items-center justify-between px-6 lg:px-8"
  >
    <!-- Logo Section -->
    <a
      href="#hero"
      (click)="scrollTo('hero'); $event.preventDefault()"
      class="flex items-center space-x-2 hover:opacity-80 transition-opacity cursor-pointer"
      aria-label="Home"
    >
      <div
        class="flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-600 to-purple-600 text-white shadow-lg"
      >
        <span class="text-sm font-bold">O</span>
      </div>
      <span
        class="hidden font-semibold text-zinc-900 dark:text-zinc-100 sm:block"
        >Oussema</span
      >
    </a>

    <!-- Desktop Navigation -->
    <div class="hidden md:flex items-center space-x-6 lg:space-x-8">
      <a
        href="#about_me"
        (click)="scrollTo('about_me'); $event.preventDefault()"
        class="cursor-pointer group relative text-sm font-medium text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100 transition-all duration-200"
        aria-label="About me section"
      >
        <span
          class="text-blue-500 font-mono text-xs group-hover:text-blue-600 dark:group-hover:text-blue-400"
          >1.0</span
        >
        About Me
        <span
          class="absolute -bottom-1 left-0 w-0 h-0.5 bg-blue-500 group-hover:w-full transition-all duration-300"
        ></span>
      </a>
      <a
        href="#experience"
        (click)="scrollTo('experience'); $event.preventDefault()"
        class="cursor-pointer group relative text-sm font-medium text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100 transition-all duration-200"
        aria-label="Experience section"
      >
        <span
          class="text-blue-500 font-mono text-xs group-hover:text-blue-600 dark:group-hover:text-blue-400"
          >2.0</span
        >
        Experience
        <span
          class="absolute -bottom-1 left-0 w-0 h-0.5 bg-blue-500 group-hover:w-full transition-all duration-300"
        ></span>
      </a>
      <a
        href="#projects"
        (click)="scrollTo('projects'); $event.preventDefault()"
        class="cursor-pointer group relative text-sm font-medium text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100 transition-all duration-200"
        aria-label="Projects section"
      >
        <span
          class="text-blue-500 font-mono text-xs group-hover:text-blue-600 dark:group-hover:text-blue-400"
          >3.0</span
        >
        Projects
        <span
          class="absolute -bottom-1 left-0 w-0 h-0.5 bg-blue-500 group-hover:w-full transition-all duration-300"
        ></span>
      </a>
      <a
        href="#contact"
        (click)="scrollTo('contact'); $event.preventDefault()"
        class="cursor-pointer group relative text-sm font-medium text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100 transition-all duration-200"
        aria-label="Contact section"
      >
        <span
          class="text-blue-500 font-mono text-xs group-hover:text-blue-600 dark:group-hover:text-blue-400"
          >4.0</span
        >
        Contact
        <span
          class="absolute -bottom-1 left-0 w-0 h-0.5 bg-blue-500 group-hover:w-full transition-all duration-300"
        ></span>
      </a>
      <a
        href="https://drive.google.com/file/d/1Fi4HlhgtdtgwcHB01ksroVMUxQd6PXMF/view?usp=sharing"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center px-4 py-2 text-sm font-medium text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 dark:text-blue-400 dark:border-blue-800 dark:hover:bg-blue-900/20 dark:hover:border-blue-700 transition-all duration-200 shadow-sm hover:shadow-md"
        aria-label="Download Resume"
      >
        <svg
          class="w-4 h-4 mr-2"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
          />
        </svg>
        Resume
      </a>
    </div>

    <!-- Right Section - Theme, Language, and Mobile Menu -->
    <div class="flex items-center gap-2">
      <!-- Desktop Theme and Language Controls -->
      <div class="hidden md:flex items-center gap-2">
        <app-theme-toggler />
        <app-language></app-language>
      </div>

      <!-- Mobile Menu Button -->
      <button
        class="md:hidden inline-flex size-10 flex-shrink-0 items-center justify-center rounded-lg border border-zinc-200/50 bg-white/50 backdrop-blur-sm transition-all duration-300 hover:scale-105 hover:shadow-lg hover:bg-white/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:border-zinc-800/50 dark:bg-zinc-900/50 dark:hover:bg-zinc-900/80 dark:focus-visible:ring-blue-400"
        (click)="toggle()"
        [attr.aria-expanded]="menuOpen()"
        aria-label="Toggle mobile navigation menu"
        title="Toggle mobile navigation menu"
        type="button"
        ngpButton
      >
        <!-- Hamburger Icon with Animation -->
        <div class="relative w-4 h-4">
          <span
            class="absolute top-0 left-0 w-4 h-0.5 bg-zinc-700 dark:bg-zinc-300 transition-all duration-300 ease-in-out"
            [class.rotate-45]="menuOpen()"
            [class.translate-y-1.5]="menuOpen()"
          ></span>
          <span
            class="absolute top-1.5 left-0 w-4 h-0.5 bg-zinc-700 dark:bg-zinc-300 transition-all duration-300 ease-in-out"
            [class.opacity-0]="menuOpen()"
          ></span>
          <span
            class="absolute top-3 left-0 w-4 h-0.5 bg-zinc-700 dark:bg-zinc-300 transition-all duration-300 ease-in-out"
            [class.-rotate-45]="menuOpen()"
            [class.-translate-y-1.5]="menuOpen()"
          ></span>
        </div>
      </button>
    </div>
  </nav>

  <!-- Mobile Navigation Menu -->
  <div
    class="md:hidden overflow-hidden transition-all duration-300 ease-in-out"
    [style.max-height]="menuOpen() ? '500px' : '0px'"
    [style.opacity]="menuOpen() ? '1' : '0'"
  >
    <div class="border-t border-zinc-200/50 dark:border-zinc-800/50">
      <!-- Navigation Links -->
      <div class="px-6 py-6 bg-white/98 backdrop-blur-md dark:bg-zinc-950/98">
        <div class="flex flex-col space-y-6">
          <a
            href="#about_me"
            (click)="scrollTo('about_me'); toggle(); $event.preventDefault()"
            class="cursor-pointer group flex items-center text-base font-medium text-zinc-700 hover:text-blue-600 dark:text-zinc-300 dark:hover:text-blue-400 transition-all duration-200"
            aria-label="About me section"
          >
            <span
              class="text-blue-500 font-mono text-sm mr-3 group-hover:text-blue-600 dark:group-hover:text-blue-400"
              >1.0</span
            >
            <span>About Me</span>
            <svg
              class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              ></path>
            </svg>
          </a>
          <a
            href="#experience"
            (click)="scrollTo('experience'); toggle(); $event.preventDefault()"
            class="cursor-pointer group flex items-center text-base font-medium text-zinc-700 hover:text-blue-600 dark:text-zinc-300 dark:hover:text-blue-400 transition-all duration-200"
            aria-label="Experience section"
          >
            <span
              class="text-blue-500 font-mono text-sm mr-3 group-hover:text-blue-600 dark:group-hover:text-blue-400"
              >2.0</span
            >
            <span>Experience</span>
            <svg
              class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              ></path>
            </svg>
          </a>
          <a
            href="#projects"
            (click)="scrollTo('projects'); toggle(); $event.preventDefault()"
            class="cursor-pointer group flex items-center text-base font-medium text-zinc-700 hover:text-blue-600 dark:text-zinc-300 dark:hover:text-blue-400 transition-all duration-200"
            aria-label="Projects section"
          >
            <span
              class="text-blue-500 font-mono text-sm mr-3 group-hover:text-blue-600 dark:group-hover:text-blue-400"
              >3.0</span
            >
            <span>Projects</span>
            <svg
              class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              ></path>
            </svg>
          </a>
          <a
            href="#contact"
            (click)="scrollTo('contact'); toggle(); $event.preventDefault()"
            class="cursor-pointer group flex items-center text-base font-medium text-zinc-700 hover:text-blue-600 dark:text-zinc-300 dark:hover:text-blue-400 transition-all duration-200"
            aria-label="Contact section"
          >
            <span
              class="text-blue-500 font-mono text-sm mr-3 group-hover:text-blue-600 dark:group-hover:text-blue-400"
              >4.0</span
            >
            <span>Contact</span>
            <svg
              class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              ></path>
            </svg>
          </a>
        </div>

        <!-- Mobile Controls Section -->
        <div
          class="mt-8 pt-6 border-t border-zinc-200/50 dark:border-zinc-800/50"
        >
          <div class="flex items-center justify-between mb-6">
            <span class="text-sm font-medium text-zinc-600 dark:text-zinc-400"
              >Settings</span
            >
            <div class="flex items-center gap-3">
              <app-theme-toggler />
              <app-language></app-language>
            </div>
          </div>

          <!-- Resume Button -->
          <a
            href="https://drive.google.com/file/d/1Fi4HlhgtdtgwcHB01ksroVMUxQd6PXMF/view?usp=sharing"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center w-full px-4 py-3 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl"
            aria-label="Download Resume"
          >
            <svg
              class="w-4 h-4 mr-2"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
              />
            </svg>
            Download Resume
          </a>
        </div>
      </div>
    </div>
  </div>
</header>
